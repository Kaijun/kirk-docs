# 3.8 镜像中心
镜像中心用于集中管理镜像仓库，仓库类型分为公开和私有。一个镜像仓库可以用于托管某一类服务镜像的所有版本。「Docker官方镜像」、「第三方公开镜像」、「我的收藏」下的镜像仓库都是公开镜像仓库，「我的镜像」下包含了用户自己创建的公开或私有镜像仓库。镜像仓库的管理可以通过[镜像中心控制台](https://hub.qiniu.com/portal)。

?>公开镜像仓库：平台所有用户可见、可用，但不可操作。<br>
  私有镜像仓库：仅自己可见、可用、可操作。
***

## 3.8.1 属性说明

**1. 镜像仓库来源**

?>**Docker官方镜像：**Docker官方认证的镜像仓库<br>
   **第三方公开镜像：**七牛镜像中心用户自己公开的镜像仓库<br>
   **我的收藏：**用户收藏的公开镜像仓库<br>
   **我的镜像：**用户自己创建的公开或私有镜像仓库<br>

**2. 镜像仓库信息**

?> **仓库名称：**用户可以在[镜像中心控制台](https://hub.qiniu.com/portal)自定义仓库名称。也可以直接通过‘docker pull’的方式上传镜像，默认使用镜像名称作为仓库名称  
   **仓库类型：**公开或私有  
   **仓库地址：**<仓库地址>/<空间名>/<镜像名称>:<版本号>  
   **更新时间：**仓库信息或镜像版本更新的最新时间  
   **所选版本：**罗列了仓库托管的所有镜像版本，选中版本后，可以通过「部署」操作创建基于该版本的服务
***

## 3.8.2 如何创建镜像仓库

创建镜像仓库有两种方式：<br>
第一种是由用户主动创建，需要到[镜像中心控制台](https://hub.qiniu.com/portal)操作。<br>
第二种是用户推送本地镜像到仓库的时候，如果该仓库不存在，会自动以镜像名作为仓库名创建。<br>
***

## 3.8.3 如何推送本地镜像到仓库

![](_figures/user-guide/image-push.png)

操作如下：

**1）登录七牛镜像中心服务器**
```
docker login reg.qiniu.com -u {你的七牛账号} -p {密码}
```
返回「**Login Succeded**」即为登录成功

**2）为本地镜像标记tag**
```
docker tag {镜像名或id} reg.qiniu.com/{命名空间}/{镜像名}:{标签}
```
例如：

```
docker tag nginx:latest reg.qiniu.com/mynamespace/mynginx:mytag
```

**3）推送镜像到仓库**
```
docker push reg.qiniu.com/{命名空间}/{镜像名}:{标签}
```

!>推送已经存在的镜像版本到仓库，会使用新版本的镜像覆盖老版本镜像

***
## 3.8.4 如何拉取仓库镜像到本地

操作如下：

**1）登录七牛镜像中心服务器**
```
docker login reg.qiniu.com -u {你的七牛账号} -p {密码}
```
返回「**Login Succeded**」即为登录成功

**2）拉取镜像到本地**
```
docker pull reg.qiniu.com/{命名空间}/{镜像名}:{标签}
```
***

## 3.8.5 如何基于某个镜像版本创建服务

基于镜像版本创建服务有两种方式：<br>
第一种是先「创建服务」，再选择服务的镜像版本，[详见 2.1](quick-start/create-app.md)<br>
第二种是先在「镜像中心」选择镜像版本，再选择部署服务<br>
操作如下：

**1）点击控制台左边栏的「镜像中心」，切换至镜像中心页面**

**2）点击「所选版本」选择目标镜像的版本**

![](_figures/user-guide/images_tag.jpg)

**3）点击「部署」icon**

![](_figures/user-guide/images_tag_deploy.jpg)
***

## 3.8.6 如何删除镜像版本或者镜像仓库

我们暂时没有开放镜像版本和镜像仓库的主动删除权限，如果有需求，可以通过[镜像中心问题反馈](http://cn.mikecrm.com/ADM9Arh)提交工单，我们一定及时处理。

